package com.abnamro.crms.lpdrisksignaladministration.model;

import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.mockito.InjectMocks;
import org.mockito.junit.jupiter.MockitoExtension;
import org.junit.jupiter.api.extension.ExtendWith;
import java.util.Date;

@ExtendWith(MockitoExtension.class)
class CreditAgreementTest {

    @InjectMocks
    private CreditAgreement creditAgreement;

    private static final Integer AGREEMENT_IDENTIFIER = 1001;
    private static final String CREDIT_AGREEMENT_ID = "CA12345";
    private static final String ADMINISTRATION_STATUS = "ACTIVE";
    private static final Date START_DATE = new Date();

    @BeforeEach
    void setUp() {
        creditAgreement = new CreditAgreement();
        creditAgreement.setAgreementIdentifier(AGREEMENT_IDENTIFIER);
        creditAgreement.setCreditAgreementId(CREDIT_AGREEMENT_ID);
        creditAgreement.setAdministrationStatus(ADMINISTRATION_STATUS);
        creditAgreement.setCreditAgreementStartDate(START_DATE);
    }

    @Test
    void testGettersAndSetters() {
        assertEquals(AGREEMENT_IDENTIFIER, creditAgreement.getAgreementIdentifier());
        assertEquals(CREDIT_AGREEMENT_ID, creditAgreement.getCreditAgreementId());
        assertEquals(ADMINISTRATION_STATUS, creditAgreement.getAdministrationStatus());
        assertEquals(START_DATE, creditAgreement.getCreditAgreementStartDate());
    }

    @Test
    void testEqualsAndHashCode() {
        CreditAgreement anotherCreditAgreement = new CreditAgreement();
        anotherCreditAgreement.setAgreementIdentifier(AGREEMENT_IDENTIFIER);
        anotherCreditAgreement.setCreditAgreementId(CREDIT_AGREEMENT_ID);
        anotherCreditAgreement.setAdministrationStatus(ADMINISTRATION_STATUS);
        anotherCreditAgreement.setCreditAgreementStartDate(START_DATE);

        assertEquals(creditAgreement, anotherCreditAgreement);
        assertEquals(creditAgreement.hashCode(), anotherCreditAgreement.hashCode());
    }

    @Test
    void testToString() {
        String expectedString = "CreditAgreement(agreementIdentifier=1001, creditAgreementId=CA12345, administrationStatus=ACTIVE, creditAgreementStartDate=" + START_DATE + ")";
        assertEquals(expectedString, creditAgreement.toString());
    }
}